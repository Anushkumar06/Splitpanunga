{"ast":null,"code":"import _slicedToArray from \"/home/anush/Documents/Projects/React Js/splitwise/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/anush/Documents/Projects/React Js/splitwise/src/Components/Dashboard/SettleExpense.js\";\nimport React, { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios';\nimport Button from '../Button';\nimport ProfileImg1 from '../profile1.jpg';\nimport Arrow from './settle-up-arrow.png';\nimport ProfileImg2 from '../profile2.jpeg';\n\nfunction SettleExpense(props) {\n  const _useState = useState({\n    user_name: \"\",\n    owe_name: \"\",\n    amount: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        settle = _useState2[0],\n        setSettle = _useState2[1];\n\n  function setNames() {\n    setSettle(preSettle => {\n      preSettle.user_name = props.name;\n      preSettle.owe_name = props.user;\n      return preSettle;\n    });\n  }\n\n  function handleSettleVisibility() {\n    const currentViewModal = props.viewModal.map(item => {\n      item.settle = false;\n      return item;\n    });\n    props.method(currentViewModal);\n  }\n\n  function handleSettleDashVisibility() {\n    const currentViewModal = props.viewModal.map(item => {\n      if (item.visibility === true) {\n        item.visibility = !item.visibility;\n      }\n\n      if (item.dash === \"dash-outro\") {\n        item.visibility = !item.visibility;\n      }\n\n      item.settle = false;\n      return item;\n    });\n    props.method(currentViewModal);\n  }\n\n  function resizeInput(event) {\n    event.target.style.width = event.target.value.length + \"ch\";\n    setSettle(preSettle => {\n      preSettle.amount = event.target.value;\n      return preSettle;\n    });\n  }\n\n  function sendPayment() {\n    axios.post(`http://localhost:4000/get-payment`, settle).then(res => {\n      notify(res.data); // alert(res.data)\n    }).catch(err => {\n      alert(err.message);\n    });\n    setTimeout(() => {\n      handleSettleDashVisibility();\n    }, 200);\n  }\n\n  useEffect(() => {\n    toast.configure({\n      autoClose: 100,\n      draggable: false\n    });\n    toast.configure();\n  }, []);\n\n  const notify = message => {\n    toast(message, {\n      position: toast.POSITION.BOTTOM_RIGHT,\n      className: 'theme-background-active',\n      progressClassName: 'theme-progress-bar',\n      autoClose: 2000\n    });\n  };\n\n  return React.createElement(\"div\", {\n    style: {\n      display: props.viewModal[4].settle ? \"block\" : \"none\"\n    },\n    className: \"modal-overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"add-expense-modal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"add-expense-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Settle up\"), React.createElement(Button, {\n    class: \"close-btn\",\n    name: \"x\",\n    onclickmeth: handleSettleVisibility,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"add-expense-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"add-expense-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      marginLeft: \"55px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"settle-img\",\n    src: ProfileImg1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    className: \"settle-img-arrow\",\n    src: Arrow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    className: \"settle-img\",\n    src: ProfileImg2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"user-names\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"option-list-settle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"You\"), React.createElement(\"p\", {\n    style: {\n      marginRight: \"5px\",\n      marginLeft: \"5px\",\n      marginTop: \"3px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"paid\"), React.createElement(\"p\", {\n    className: \"option-list-settle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, props.name)), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"add-expense-5-inside\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"input-6\",\n    type: \"number\",\n    placeholder: \"0.00\",\n    onChange: resizeInput,\n    onFocus: setNames,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"dollar-sym-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"$\"))), React.createElement(\"div\", {\n    style: {\n      padding: \"10px\",\n      textAlign: \"right\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(Button, {\n    class: \"exp-btn\",\n    name: \"Cancel\",\n    onclickmeth: handleSettleVisibility,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(Button, {\n    class: \"exp-btn-2\",\n    name: \"Save\",\n    onclickmeth: sendPayment,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  })))), React.createElement(ToastContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }));\n}\n\nexport default SettleExpense;","map":{"version":3,"sources":["/home/anush/Documents/Projects/React Js/splitwise/src/Components/Dashboard/SettleExpense.js"],"names":["React","useState","useEffect","ToastContainer","toast","axios","Button","ProfileImg1","Arrow","ProfileImg2","SettleExpense","props","user_name","owe_name","amount","settle","setSettle","setNames","preSettle","name","user","handleSettleVisibility","currentViewModal","viewModal","map","item","method","handleSettleDashVisibility","visibility","dash","resizeInput","event","target","style","width","value","length","sendPayment","post","then","res","notify","data","catch","err","alert","message","setTimeout","configure","autoClose","draggable","position","POSITION","BOTTOM_RIGHT","className","progressClassName","display","marginLeft","marginRight","marginTop","padding","textAlign"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios'\nimport Button from '../Button'\nimport ProfileImg1 from '../profile1.jpg'\nimport Arrow from './settle-up-arrow.png'\nimport ProfileImg2 from '../profile2.jpeg'\n\nfunction SettleExpense(props){\n    const [settle,setSettle] = useState({\n        user_name:\"\",\n        owe_name:\"\",\n        amount:\"\"\n    })\n    \n    function setNames(){\n        setSettle(preSettle=>{\n            preSettle.user_name = props.name\n            preSettle.owe_name = props.user\n            return preSettle\n        })\n    }\n    function handleSettleVisibility(){\n        const currentViewModal = props.viewModal.map((item) =>{\n            item.settle = false\n            return item\n        })\n        props.method(currentViewModal)\n    }\n    function handleSettleDashVisibility(){\n        const currentViewModal = props.viewModal.map((item) =>{\n            if(item.visibility === true){\n                item.visibility = !item.visibility\n            }\n            if(item.dash === \"dash-outro\"){\n                item.visibility = !item.visibility\n            }\n            item.settle = false\n            return item\n        })\n        props.method(currentViewModal)\n    }\n    function resizeInput(event) {\n        event.target.style.width =  event.target.value.length + \"ch\";\n        setSettle(preSettle=>{\n            preSettle.amount = event.target.value\n            return preSettle\n        })\n    }\n    function sendPayment(){\n        axios.post(`http://localhost:4000/get-payment`,settle)\n        .then(res=>{\n            notify(res.data)\n            // alert(res.data)\n        })\n        .catch(err=>{\n            alert(err.message)\n        })\n        setTimeout(() => {\n            handleSettleDashVisibility()\n        }, 200);\n    }\n    useEffect(() => {\n        toast.configure({\n            autoClose: 100,\n            draggable: false,\n          });\n          toast.configure()\n    }, [])\n    const notify = (message) => {\n        toast(message, {\n            position: toast.POSITION.BOTTOM_RIGHT,\n            className:'theme-background-active',\n            progressClassName: 'theme-progress-bar',\n            autoClose: 2000\n        });\n    }\n    return(\n        <div style={{display:props.viewModal[4].settle?\"block\":\"none\"}} className=\"modal-overlay\">\n            <div className=\"add-expense-modal\">\n                <div className=\"add-expense-1\">\n                    <p>Settle up</p>\n                    <Button class=\"close-btn\" name=\"x\" onclickmeth={handleSettleVisibility}/>\n                </div>\n                <div className=\"add-expense-2\">\n                    <div className=\"add-expense-5\">\n                        <div style={{display:\"flex\",marginLeft:\"55px\"}}>\n                            <img className=\"settle-img\" src={ProfileImg1} />\n                            <img className=\"settle-img-arrow\" src={Arrow} />\n                            <img className=\"settle-img\" src={ProfileImg2} />\n                        </div>\n                        <br/>\n                        <div className=\"user-names\">\n                            <p className=\"option-list-settle\">You</p>\n                            <p style={{marginRight:\"5px\",marginLeft:\"5px\",marginTop:\"3px\"}}>paid</p>\n                            <p className=\"option-list-settle\">{props.name}</p>\n                        </div>\n                        <br/>\n                        <div className=\"add-expense-5-inside\">\n                            <input className=\"input-6\" type=\"number\" placeholder=\"0.00\" onChange={resizeInput} onFocus={setNames}/><span className=\"dollar-sym-2\">$</span>\n                        </div>\n                    </div>\n                    <div style={{padding:\"10px\",textAlign:\"right\"}}>\n                        <Button class=\"exp-btn\" name=\"Cancel\" onclickmeth={handleSettleVisibility}/>\n                        <Button class=\"exp-btn-2\" name=\"Save\" onclickmeth={sendPayment}/>\n                    </div>\n                </div> \n            </div>\n            <ToastContainer />\n        </div>\n    )\n}\n\nexport default SettleExpense"]},"metadata":{},"sourceType":"module"}